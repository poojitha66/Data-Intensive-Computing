<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Diamond Price Prediction</title>
    <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <style>
        h1 {
            color: white; 
            font-weight: bold;
            font-family: 'Times New Roman', sans-serif;
            font-size: 54px;
        }
        
        label {
                color: white;
                font-weight: bold;
                font-family: 'Algerian', sans-serif;
        }
        #predictionResult {
                            color: white;
                            font-weight: bold;
                            font-family: 'Times New Roman', sans-serif;
                            font-size: 32px;
                        
        }
        
    </style>
    
</head>

<body>
    <div class="login">
        <h1>Diamond Price Prediction</h1>

        <!-- Main Input For Receiving Query to our ML -->
        <form action="/predict" method="post">
        
           <label for="carat">Carat:</label>       
            <input type="text" name="carat" placeholder="Carat" required="required" /><br><br>
            
            <!-- Dropdown for Cut -->
            <label for="cut">Cut:</label>
            <select name="cut" required="required">
                <option value="" disabled selected>Select Cut</option>
                <option value="FAIR">Fair</option>
                <option value="GOOD">Good</option>
                <option value="IDEAL">Ideal</option>
                <option value="PREMIUM">Premium</option>
                <option value="VERY GOOD">Very Good</option>
            </select><br><br>

            <!-- Dropdown for Color -->
            <label for="color">Color:</label>
            <select name="color" required="required">
                <option value="" disabled selected>Select Color</option>
                <option value="D">D</option>
                <option value="E">E</option>
                <option value="F">F</option>
                <option value="G">G</option>
                <option value="H">H</option>
                <option value="I">I</option>
                <option value="J">J</option>
            </select><br><br>

            <!-- Dropdown for Clarity -->
            <label for="clarity">Clarity:</label>  
            <select name="clarity" required="required">
                <option value="" disabled selected>Select Clarity</option>
                <option value="I1">I1</option>
                <option value="IF">IF</option>
                <option value="SI1">SI1</option>
                <option value="SI2">SI2</option>
                <option value="VS1">VS1</option>
                <option value="VS2">VS2</option>
                <option value="VVS1">VVS1</option>
                <option value="VVS2">VVS2</option>
            </select><br><br>
            <label for="table">Table:</label>  
             <input type="text" name="table" placeholder="Table" required="required" /><br><br>
              <label for="x">X:</label>  
            <input type="text" name="x" placeholder="X" required="required" /><br><br>
            <label for="y">Y:</label>  
            <input type="text" name="y" placeholder="Y" required="required" /><br><br>
            <label for="z">Z:</label>
            <input type="text" name="z" placeholder="Z" required="required" /><br><br>
            
            <button type="submit" class="btn btn-primary btn-block btn-large">Predict</button><br><br>
            
            <!-- Dropdown for Visualization Options -->
            <select id="visualizationDropdown">
                <option value="" disabled selected>Select Visualization</option>
                <option value="carat_vs_price">carat vs price</option>
                <option value="color_vs_price">color vs price</option>
                <option value="xyz_vs_price">xyz vs price</option>
            </select>
            
            <!-- Button for Visualization -->
            <button type="button" class="btn btn-secondary btn-block btn-large" onclick="showSelectedImage()">Visualize</button>

        </form>

        <br>
        <br>
        <div id="predictionResult">
            {{ prediction_text }}
        </div>
        
        
        <!-- Hidden Div for Images -->
        <div id="imageContainer" style="display:none;">
            <img id="selectedImage" src="" alt="Selected Image">
        </div>

        <script>
            // Function to show selected image
            function showSelectedImage() {
                var imageContainer = document.getElementById("imageContainer");
                var selectedImage = document.getElementById("selectedImage");
                var visualizationDropdown = document.getElementById("visualizationDropdown");
                
                // Get the selected option value
                var selectedOption = visualizationDropdown.value;

                // Set the source of the selected image
                selectedImage.src = "{{ url_for('static', filename='css/') }}" + selectedOption + ".png";

                // Display the image container
                imageContainer.style.display = "block";
            }

        </script>
    </div>
</body>

</html>